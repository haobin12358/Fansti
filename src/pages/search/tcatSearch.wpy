<style scoped lang="less">
    @import "../../styles/card";
    @import "../../styles/table";

  .container{
    .container-card{
      .destination{
        display: flex;
        justify-content: space-between;
        text-align: center;
        margin-bottom: 55rpx;

        image{
          height: 33rpx;
          width: 81rpx;
          min-width: 81rpx;
          margin-right: 33rpx;
        }

        .destination-en{
          /*margin-right: 33rpx;*/
        }

        view{
          flex: 1;
        }
      }

    }
  }
</style>

<template>
  <view class="container" style="height: {{containerHeight}}px;">
    <scroll-view scroll-y class="container-card" style="height: {{cardHeight}}px;">
      <view class="card-title">
        TACT信息查询
      </view>

      <view class="destination">
        <view class="destination-en">目的港: {{res.three_code}}</view>
        <view>目的港名称: {{res.chinese_position}}</view>
      </view>
      <view class="standard-table">
        <view class="thead">
          <view class="tr">
            <view class="td">M/N/Q</view>
            <view class="td">运费</view>
          </view>
        </view>
        <view class="tbody">
          <view class="tr" wx:for="{{list}}">
            <view class="td">{{item.name}}</view>
            <view class="td">{{item.value}}</view>
          </view>
        </view>

      </view>
    </scroll-view>
  </view>

</template>

<script>
  import wepy from 'wepy';
  import CardMixin from '../../mixins/cardMixin';

  export default class TcatSearch extends wepy.page {
    config = {
      navigationBarTitleText: '泛思特'
    }

    components = {};

    mixins = [CardMixin]

    data = {
      res:{},
      list: []
    };
    computed = {};

    methods = {};

    events = {};

    onLoad(params, data) {
      console.log('preload',data.preload.res);
      this.res = data.preload.res;
      // return;
      let res = data.preload.res;
      let arr = [],
      list = [];

      arr = res.freight.split('\r\n')
      console.log(arr);
      for (let i = 0; i < arr.length; i++) {
        list.push({
          i,
          name: arr[i].split(':')[0],
          value: arr[i].split(':')[1],
        })
      }
      console.log(list);
      this.list = list;
    }
  }
</script>

