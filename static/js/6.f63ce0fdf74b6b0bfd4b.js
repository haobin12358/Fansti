webpackJsonp([6],{Vdp1:function(e,t){},bLOp:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s("P9l9"),o=s("zL8q"),a=s("mtWM"),n=s.n(a),l={data:function(){return{ruleForm:{MAcode:"",MApasswordnew:"",MApasswordnewrepeat:"",MAtelphone:""},show:!0,timer:null,count:"",rules:{MAcode:[{required:!0,message:"请输入验证码",trigger:"blur"}],MApasswordnew:[{required:!0,message:"请输入新密码",trigger:"blur"}],MApasswordnewrepeat:[{required:!0,message:"请输入新密码",trigger:"blur"}],MAtelphone:[{required:!0,message:"请输入手机号",trigger:"blur"}]}}},mounted:function(){},methods:{submitForm:function(e){var t=this,s=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;n.a.post(r.a.forget_password,s.ruleForm).then(function(e){if(200==e.data.status){t.$router.push("/login");var s=new Date;s.setTime(s.getTime()+-864e5),window.document.cookie="userName=;path=/;expires="+s.toGMTString(),window.document.cookie="userPwd=;path=/;expires="+s.toGMTString()}else Object(o.MessageBox)({title:"提示",message:e.data.message,callback:function(e){}})},function(e){Object(o.MessageBox)({title:"提示",message:e.data.message,callback:function(e){}})})})},getCode:function(){var e=this;if(""==this.ruleForm.MAtelphone)return this.$message.error("请先输入手机号"),!1;this.show=!1;n.a.post(r.a.get_inforcode,{MAtelphone:this.ruleForm.MAtelphone}).then(function(e){console.log(e)}),this.timer||(this.count=60,this.show=!1,this.timer=setInterval(function(){e.count>0&&e.count<=60?e.count--:(e.show=!0,clearInterval(e.timer),e.timer=null)},1e3))}}},i={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login-status"},[s("div",{staticClass:"login-content"},[s("div",{staticClass:"login-box"},[s("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules}},[s("h3",{staticClass:"login-head"},[e._v("忘记密码")]),e._v(" "),s("el-form-item",{attrs:{prop:"MAtelphone",label:"手机号"}},[s("i",{staticClass:"icon-tel icon"}),e._v(" "),s("el-input",{staticClass:"m-input",attrs:{placeholder:"输入手机号"},model:{value:e.ruleForm.MAtelphone,callback:function(t){e.$set(e.ruleForm,"MAtelphone",t)},expression:"ruleForm.MAtelphone"}})],1),e._v(" "),s("el-form-item",{attrs:{prop:"MAcode",label:"验证码"}},[s("i",{staticClass:"icon-tel icon"}),e._v(" "),s("el-input",{staticClass:"m-input-s m-input",attrs:{placeholder:"验证码"},model:{value:e.ruleForm.MAcode,callback:function(t){e.$set(e.ruleForm,"MAcode",t)},expression:"ruleForm.MAcode"}}),e._v(" "),e.show?s("span",{staticClass:"m-code",on:{click:e.getCode}},[e._v("获取验证码")]):s("span",{staticClass:"m-code active"},[e._v("重发"+e._s(e.count)+"s")])],1),e._v(" "),s("el-form-item",{attrs:{prop:"MApasswordnew",label:"新密码"}},[s("span",{staticClass:"icon-pwd icon"}),e._v(" "),s("el-input",{staticClass:"m-input",attrs:{placeholder:"输入新密码",type:"password"},model:{value:e.ruleForm.MApasswordnew,callback:function(t){e.$set(e.ruleForm,"MApasswordnew",t)},expression:"ruleForm.MApasswordnew"}})],1),e._v(" "),s("el-form-item",{attrs:{prop:"MApasswordnewrepeat",label:"旧密码"}},[s("span",{staticClass:"icon-pwd icon"}),e._v(" "),s("el-input",{staticClass:"m-input",attrs:{placeholder:"重复新密码",type:"password"},model:{value:e.ruleForm.MApasswordnewrepeat,callback:function(t){e.$set(e.ruleForm,"MApasswordnewrepeat",t)},expression:"ruleForm.MApasswordnewrepeat"}})],1),e._v(" "),s("el-form-item",{staticClass:"m-btn"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("修 改")])],1)],1)],1)])])},staticRenderFns:[]};var c=s("VU/8")(l,i,!1,function(e){s("Vdp1")},"data-v-75456f08",null);t.default=c.exports}});
//# sourceMappingURL=6.f63ce0fdf74b6b0bfd4b.js.map