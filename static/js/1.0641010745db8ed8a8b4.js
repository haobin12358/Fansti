webpackJsonp([1],{"T+/8":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o("P9l9"),s=(o("zL8q"),o("mtWM")),a=o.n(s),n={data:function(){return{ruleForm:{MAname:"",MApassword:"",checked:!0},rules:{MAname:[{required:!0,message:"请输入账号名称",trigger:"blur"}],MApassword:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},mounted:function(){this.getCookie()},methods:{submitForm:function(e){var t=this,o=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;1==o.ruleForm.checked?o.setCookie(o.ruleForm.MAname,o.ruleForm.MApassword,7):(console.log("清空Cookie"),o.clearCookie()),a.a.post(r.a.login,o.ruleForm).then(function(e){200==e.data.status?(t.$store.state.role=e.data.data.MAidentity,t.$store.state.token=e.data.data.token,localStorage.setItem("token",e.data.data.token),t.$router.push({path:"/news_manage"})):t.$message.error(e.data.message)},function(e){t.$message.error(e.data.message)})})},setCookie:function(e,t,o){var r=new Date;r.setTime(r.getTime()+864e5*o),window.document.cookie="userName="+e+";path=/;expires="+r.toGMTString(),window.document.cookie="userPwd="+t+";path=/;expires="+r.toGMTString()},getCookie:function(){if(document.cookie.length>0)for(var e=document.cookie.split("; "),t=0;t<e.length;t++){var o=e[t].split("=");"userName"==o[0]?this.ruleForm.MAname=o[1]:"userPwd"==o[0]&&(this.ruleForm.MApassword=o[1])}},clearCookie:function(){this.setCookie("","",-1)},forgetPwd:function(){this.$router.push("/forgetPwd")}}},i={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"login-status"},[o("div",{staticClass:"login-content"},[o("div",{staticClass:"login-box"},[o("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules}},[o("div",{staticClass:"login-head"},[o("h3",[e._v("泛思特")]),e._v(" "),o("p",[e._v("医药化工危险品冷链国际空运")])]),e._v(" "),o("el-form-item",{attrs:{prop:"MAname",label:"账号"}},[o("el-input",{staticClass:"m-input",attrs:{placeholder:"输入账号"},model:{value:e.ruleForm.MAname,callback:function(t){e.$set(e.ruleForm,"MAname",t)},expression:"ruleForm.MAname"}})],1),e._v(" "),o("el-form-item",{attrs:{prop:"MApassword",label:"密码"}},[o("el-input",{staticClass:"m-input",attrs:{placeholder:"输入密码",type:"password"},model:{value:e.ruleForm.MApassword,callback:function(t){e.$set(e.ruleForm,"MApassword",t)},expression:"ruleForm.MApassword"}})],1),e._v(" "),o("el-form-item",{staticClass:"m-btn"},[o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("登   录")])],1),e._v(" "),o("el-form-item",[o("el-checkbox",{attrs:{name:"type"},model:{value:e.ruleForm.checked,callback:function(t){e.$set(e.ruleForm,"checked",t)},expression:"ruleForm.checked"}},[e._v("记住密码")]),e._v(" "),o("p",{staticClass:"m-forget-pwd",on:{click:e.forgetPwd}},[e._v("忘记密码？")])],1)],1)],1)])])},staticRenderFns:[]};var l=o("VU/8")(n,i,!1,function(e){o("wpGu")},"data-v-e324a69e",null);t.default=l.exports},wpGu:function(e,t){}});
//# sourceMappingURL=1.0641010745db8ed8a8b4.js.map